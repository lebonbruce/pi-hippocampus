# 🧠 pi-memory V4.1 (海马体架构) - 安装与迁移指南

恭喜！你拥有了目前最先进的 AI 记忆扩展插件——**海马体 (Hippocampus)**。
它不仅仅是一个数据库，更是一个**仿生记忆系统**，支持：
- **自动记忆**：像人一样自动区分事实、规则和经历。
- **智能联想**：在当前项目能回忆起其他项目的关键信息（跨项目穿透）。
- **自然遗忘**：不重要的琐事会随着时间淡忘。

---

## 📂 文件夹内容
- `index.ts`: 插件的核心代码（大脑）。
- `package.json`: 依赖描述文件（告诉电脑需要安装哪些配件）。
- `README.md`: 你正在读的说明书。

---

## 🛠️ 如何安装 (小白保姆级教程)

不管你是 Windows 还是 Mac，安装逻辑都是：**放进去 -> 装依赖 -> 重启**。

### 第一步：找到你的插件目录
打开你的 `pi` 助手所在的配置文件夹。通常位置如下：
- **Windows**: `C:\Users\你的用户名\.pi\agent\extensions\`
- **macOS/Linux**: `/Users/你的用户名/.pi/agent/extensions/`

如果 `extensions` 文件夹不存在，请手动创建一个。

### 第二步：复制文件
在 `extensions` 目录下创建一个新文件夹，名字叫 `pi-memory`。
将本文件夹里的所有文件（`index.ts`, `package.json`, `README.md`）复制进去。

### 第三步：安装依赖 (最重要的一步！)
因为这个插件使用了高性能向量数据库 (SQLite)，**不能直接复制别人的 `node_modules`**，必须在你的电脑上重新安装。

1. **打开终端/命令行**：
   - **Windows**: 在文件夹空白处按住 `Shift` + 右键，选择“在此处打开 Powershell”或“终端”。
   - **Mac**:在这个文件夹上右键 -> 服务 -> 新建位于文件夹位置的终端窗口（或者打开终端，输入 `cd ` 然后把文件夹拖进去）。

2. **输入命令并回车**：
   ```bash
   npm install
   ```
   *等待进度条跑完，如果不报错，并在目录下生成了 `node_modules` 文件夹，就成功了。*

### 第四步：重启 pi
关闭并重新启动你的 `pi` 助手。它启动时会提示：
> "🧠 V4.0 海马体记忆引擎已启动..."

---

## 🚚 跨系统迁移指南 (换电脑怎么办？)

如果你要从 Windows 换到 Mac，或者换一台新电脑，请注意：

### 1. 迁移代码 (大脑皮层)
- **操作**：把本文件夹复制到新电脑，然后**重复上面的“第三步：安装依赖”**。
- **注意**：千万不要把旧电脑的 `node_modules` 文件夹复制过去，因为 Windows 和 Mac 的数据库驱动不通用！到了新电脑必须重新运行 `npm install`。

### 2. 迁移记忆数据 (海马体)
你的所有记忆（事实、规则、项目经历）并不存放在插件目录里，而是存在**用户主目录**下的一个全局数据库中。

- **数据位置**：
  - **Windows**: `C:\Users\你的用户名\.pi-memory\`
  - **macOS**: `/Users/你的用户名/.pi-memory/`

- **操作**：
  要把记忆带走，直接把这个 `.pi-memory` 文件夹打包，复制到新电脑的对应位置即可。
  *如果不复制这个文件夹，新电脑上的 AI 就是失忆状态，需要重新学习。*

---

## 🎮 如何使用

这个系统是隐形的，你正常聊天即可。

### 1. 自动记录
- 你说：“以后数据库密码都是 `123456`。”
- AI 反应：自动存为 **[Fact]**，重要性高。

### 2. 定立规矩 (Rule)
- 你说：“在这个项目里，必须使用 TypeScript。”
- AI 反应：自动存为 **[Rule]**，并在这个项目永久生效。

### 3. 跨项目联想 (V4.1 特性)
- 假设你在做 **项目B**，突然问：“上次 **项目A** 那个鉴权算法是怎么写的？”
- AI 反应：虽然你在 B 项目，但因为它检测到这是重要信息，会跨越项目边界把 A 项目的记忆调取出来。

---

## ❓ 常见问题

**Q: 安装时 `npm install` 报错怎么办？**
A: 请确保你的电脑安装了 Node.js (建议 v18 或更高)。如果是 Windows，有时需要安装构建工具，可以试着以管理员身份运行：`npm install --global windows-build-tools`（这一步通常只有极少数旧电脑需要）。

**Q: 怎么看我有多少记忆？**
A: 对 AI 说：“整理一下记忆” 或者 “consolidate memories”，它会向你汇报。

**Q: 我想删掉某条记忆怎么办？**
A: 目前可以通过修改数据库文件实现，或者直接告诉 AI：“忘掉关于 xxx 的事情”（需后续指令支持）。

---
*Generated by pi-agent | V4.1 Hippocampus Architecture*
